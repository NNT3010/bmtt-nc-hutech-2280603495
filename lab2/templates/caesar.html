<!DOCTYPE html>
<html lang="en">
<head>
    <title>Caesar Cipher</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <script>
        function encryptCaesar() {
            const text = document.getElementById('plainText').value;
            const key = parseInt(document.getElementById('plainKey').value);
            let result = '';

            for (let i = 0; i < text.length; i++) {
                const c = text[i];
                if (c.match(/[a-z]/i)) {
                    const code = text.charCodeAt(i);
                    let shifted;

                    if (code >= 65 && code <= 90) {
                        shifted = ((code - 65 + key) % 26) + 65;
                    } else if (code >= 97 && code <= 122) {
                        shifted = ((code - 97 + key) % 26) + 97;
                    }
                    result += String.fromCharCode(shifted);
                } else {
                    result += c;
                }
            }

            document.getElementById('encryptedResult').innerText = "Encrypted Result: " + result;
        }

        function decryptCaesar() {
            const text = document.getElementById('cipherText').value;
            const key = parseInt(document.getElementById('cipherKey').value);
            let result = '';

            for (let i = 0; i < text.length; i++) {
                const c = text[i];
                if (c.match(/[a-z]/i)) {
                    const code = text.charCodeAt(i);
                    let shifted;

                    if (code >= 65 && code <= 90) {
                        shifted = ((code - 65 - key + 26) % 26) + 65;
                    } else if (code >= 97 && code <= 122) {
                        shifted = ((code - 97 - key + 26) % 26) + 97;
                    }
                    result += String.fromCharCode(shifted);
                } else {
                    result += c;
                }
            }

            document.getElementById('decryptedResult').innerText = "Decrypted Result: " + result;
        }
    </script>
</head>
<body>
    <div class="container">
        <table class="table">
            <!-- Tiêu đề -->
            <tr>
                <td style="text-align: center; font-weight: bold; font-size: 25px;">CAESAR CIPHER</td>
            </tr>

            <!-- Mã hóa -->
            <tr>
                <td style="font-weight: bold; color: blue;">ENCRYPTION</td>
            </tr>
            <tr>
                <td>
                    <div class="mb-3">
                        <label class="form-label">Plain text:</label>
                        <input type="text" class="form-control" id="plainText" placeholder="Input Plain Text" required autofocus>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Key:</label>
                        <input type="number" class="form-control" id="plainKey" placeholder="Input Key" required>
                    </div>
                    <button class="btn btn-primary" onclick="encryptCaesar()">Encrypt</button>
                    <p id="encryptedResult" class="mt-2 text-success"></p>
                </td>
            </tr>

            <!-- Giải mã -->
            <tr>
                <td style="font-weight: bold; color: blue;">DECRYPTION</td>
            </tr>
            <tr>
                <td>
                    <div class="mb-3">
                        <label class="form-label">Cipher text:</label>
                        <input type="text" class="form-control" id="cipherText" placeholder="Input Cipher Text" required>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Key:</label>
                        <input type="number" class="form-control" id="cipherKey" placeholder="Input Key" required>
                    </div>
                    <button class="btn btn-primary" onclick="decryptCaesar()">Decrypt</button>
                    <p id="decryptedResult" class="mt-2 text-danger"></p>
                </td>
            </tr>
        </table>
    </div>
</body>
</html>
